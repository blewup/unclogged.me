<!DOCTYPE html>
<html lang="fr" class="dark scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <title>Calendrier & Événements | Déboucheur Expert</title>
    <meta lang="fr" name="description" content="Calendrier des disponibilités et événements - Déboucheur Expert. Consultez les jours fériés et planifiez votre rendez-vous de plomberie.">
    <meta lang="en" name="description" content="Availability calendar and events - Déboucheur Expert. Check holidays and schedule your plumbing appointment.">
    
    <!-- Preload hero slides for faster paint -->
    <link rel="preload" as="image" href="../assets/images/slide/slide_08.webp">
    <link rel="preload" as="image" href="../assets/images/slide/slide_09.webp">
    
    <!-- Extended Favicons -->
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="../assets/images/logo/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/images/logo/apple-touch-icon-144x144.png">
    <link rel="icon" type="image/png" href="../assets/images/logo/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="../assets/images/logo/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="../assets/images/logo/favicon-16x16.png" sizes="16x16">
    <link href="../assets/images/logo/favicon.ico" rel="icon" type="image/x-icon">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="manifest" href="../manifest.json">
    <meta name="theme-color" content="#2563EB">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Local Fonts (NO external CDN) -->
    <link rel="stylesheet" href="../assets/styles/fonts.css">
    <link rel="stylesheet" href="../assets/styles/style_00.css">
    
    <!-- Tailwind Configuration -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        darkBase: '#000000',
                        darkAlt: '#131313',
                        lightBase: '#FFFFFF',
                        lightAlt: '#F2F2F2',
                        cardinal: '#C41E3A',
                        deboucheurGreen: '#22c55e',
                        websiteBlue: '#2563EB',
                    },
                    fontFamily: {
                        ops: ['"Black Ops One"', 'cursive'],
                        comic: ['"Comic Sans MS"', 'cursive', 'sans-serif'],
                        inter: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    
    <!-- Structured Data (English) -->
    <script lang="en" type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "name": "Unclogged by Déboucheur Expert",
      "alternateName": "unclogged.me",
      "description": "Anything related to residential plumbing service calls: unclogging drains, fixing leaks, troubleshooting water loss. Certain tasks require the city and a certified master plumber. No new construction; our service focuses on maintenance and emergency repairs.",
      "url": "https://unclogged.me",
      "logo": "https://unclogged.me/assets/images/logo/logo.png",
      "image": "https://unclogged.me/assets/images/slide/slide_01.webp",
      "telephone": "+1-438-530-2343",
      "priceRange": "200$ - 640$/h CAD +tx",
      "areaServed": ["Montreal", "Montérégie"],
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "290 Rue Lord #01",
        "addressLocality": "Napierville",
        "addressRegion": "QC",
        "postalCode": "J0J 1L0",
        "addressCountry": "CA"
      },
      "openingHoursSpecification": [
        {"@type": "OpeningHoursSpecification", "dayOfWeek": ["Monday","Tuesday","Wednesday","Thursday","Friday"], "opens": "08:00", "closes": "18:00"},
        {"@type": "OpeningHoursSpecification", "dayOfWeek": ["Saturday","Sunday"], "opens": "08:00", "closes": "17:00"}
      ]
    }
    </script>
    
    <!-- Structured Data (French) -->
    <script lang="fr" type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "name": "Déboucheur Expert (unclogged.me)",
      "alternateName": "Déboucheur",
      "description": "Tout ce qui concerne les appels de service de plomberie résidentielle : débouchage des drains, réparation des fuites, dépannage des pertes d'eau. Certaines tâches nécessitent la ville et un maître plombier certifié. Pas de nouvelle construction ; notre service se concentre sur l'entretien et les réparations d'urgence.",
      "url": "https://deboucheur.expert",
      "logo": "https://deboucheur.expert/assets/images/logo/logo.png",
      "image": "https://deboucheur.expert/assets/images/slide/slide_01.webp",
      "telephone": "+1-438-530-2343",
      "priceRange": "200$ - 640$/h CAD +tx",
      "areaServed": ["Montreal", "Montérégie"],
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "290 Rue Lord #01",
        "addressLocality": "Napierville",
        "addressRegion": "QC",
        "postalCode": "J0J 1L0",
        "addressCountry": "CA"
      },
      "openingHoursSpecification": [
        {"@type": "OpeningHoursSpecification", "dayOfWeek": ["Monday","Tuesday","Wednesday","Thursday","Friday"], "opens": "08:00", "closes": "18:00"},
        {"@type": "OpeningHoursSpecification", "dayOfWeek": ["Saturday","Sunday"], "opens": "08:00", "closes": "17:00"}
      ]
    }
    </script>
    <link rel="stylesheet" href="../assets/styles/style_00.css">
    <style>
        .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 2px; }
        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: clamp(0.6rem, 1.5vw, 0.9rem);
            border-radius: 0.5rem;
            transition: all 0.2s;
            position: relative;
        }
        .calendar-day:hover { transform: scale(1.05); }
        .calendar-day.weekend { background: rgba(37, 99, 235, 0.1); }
        .calendar-day.holiday { background: rgba(196, 30, 58, 0.2); border: 2px solid #C41E3A; }
        .calendar-day.christian { background: rgba(147, 51, 234, 0.2); border: 2px solid #9333EA; }
        .calendar-day.jewish { background: rgba(59, 130, 246, 0.2); border: 2px solid #3B82F6; }
        .calendar-day.muslim { background: rgba(34, 197, 94, 0.2); border: 2px solid #22C55E; }
        .calendar-day.today { box-shadow: 0 0 0 3px #2563EB; font-weight: bold; }
        .calendar-header { font-weight: bold; text-align: center; padding: 0.5rem; font-size: 0.7rem; }
        .holiday-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            position: absolute;
            bottom: 2px;
        }
        .month-card {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 1rem;
            padding: 1rem;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.75rem;
        }
        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 4px;
        }
    </style>
</head>
<body class="bg-lightBase dark:bg-darkBase text-gray-800 dark:text-gray-100 font-comic min-h-screen">

    <!-- URGENCY BUTTON - Always visible (z-200, never hidden) -->
    <a href="tel:+14385302343" id="urgency-btn" class="fixed top-[13vh] right-4 z-[200] bg-cardinal hover:bg-red-700 text-white px-4 py-2 rounded-lg font-ops shadow-lg transform transition-all duration-300 hover:scale-105 border-2 border-black flex items-center gap-2 box-radius">
        <i class="fas fa-phone-alt animate-pulse"></i>
        <span data-translate="urgence">URGENCE 24/7</span>
    </a>

    <!-- Hero Section -->
    <section class="relative h-[40vh] min-h-[300px] bg-cover bg-center bg-fixed" style="background-image: url('https://images.unsplash.com/photo-1506784983877-45594efa4cbe?auto=format&fit=crop&w=1920&q=80');">
        <div class="absolute inset-0 bg-black/60"></div>
        <div class="relative z-10 h-full flex flex-col justify-center items-center text-center px-4">
            <h1 class="text-4xl md:text-6xl font-ops text-white mb-4">
                <i class="fas fa-calendar-alt mr-4"></i>CALENDRIER
            </h1>
            <p class="text-xl md:text-2xl text-gray-200 max-w-2xl">
                Consultez nos disponibilités et les jours fériés
            </p>
        </div>
        
        <!-- Navbar -->
        <nav class="absolute top-0 left-0 right-0 z-50 bg-black/30 backdrop-blur-md h-16">
            <div class="max-w-7xl mx-auto px-4 h-full flex items-center justify-between">
                <a href="../index.html" class="flex items-center gap-2">
                    <img src="../assets/images/logo/logo.png" alt="Logo" class="h-10 w-10 rounded-full">
                    <span class="font-ops text-lg text-white">Déboucheur Expert</span>
                </a>
                <div class="flex items-center gap-4">
                    <a href="../index.html" class="font-ops text-sm text-white/80 hover:text-white transition hidden md:block">ACCUEIL</a>
                    <a href="tarification.html" class="font-ops text-sm text-white/80 hover:text-white transition hidden md:block">TARIFS</a>
                    <a href="tel:+14385302343" class="bg-cardinal hover:bg-red-700 text-white px-4 py-2 rounded-lg font-ops text-sm flex items-center gap-2">
                        <i class="fas fa-phone-alt animate-pulse"></i>
                        <span class="hidden sm:inline">URGENCE 24/7</span>
                    </a>
                </div>
            </div>
        </nav>
    </section>

    <!-- Legend -->
    <section class="py-6 px-4 bg-lightAlt dark:bg-darkAlt">
        <div class="max-w-7xl mx-auto">
            <div class="flex flex-wrap justify-center gap-4 md:gap-8">
                <div class="legend-item">
                    <div class="legend-color bg-blue-500/30 border-2 border-blue-500"></div>
                    <span>Fin de semaine</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color bg-cardinal/30 border-2 border-cardinal"></div>
                    <span>Jour férié (QC)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color bg-purple-500/30 border-2 border-purple-500"></div>
                    <span>Fête chrétienne</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color bg-blue-400/30 border-2 border-blue-400"></div>
                    <span>Fête juive</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color bg-green-500/30 border-2 border-green-500"></div>
                    <span>Fête musulmane</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Calendar Grid -->
    <section class="py-8 px-4">
        <div class="max-w-7xl mx-auto">
            <div id="calendar-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                <!-- Calendars will be injected here -->
            </div>
        </div>
    </section>

    <!-- Holiday List -->
    <section class="py-8 px-4 bg-lightAlt dark:bg-darkAlt">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-2xl font-ops text-center mb-6">
                <i class="fas fa-star text-yellow-500 mr-2"></i>
                JOURS FÉRIÉS 2025-2026
            </h2>
            <div id="holiday-list" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- Holiday list will be injected here -->
            </div>
        </div>
    </section>

    <!-- Contact CTA -->
    <section class="py-12 px-4 bg-websiteBlue">
        <div class="max-w-4xl mx-auto text-center text-white">
            <h2 class="text-3xl font-ops mb-4">BESOIN D'UN RENDEZ-VOUS?</h2>
            <p class="text-xl mb-6">Appelez-nous pour planifier une intervention</p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="tel:+14385302343" class="bg-white text-websiteBlue font-ops px-8 py-4 rounded-xl text-xl hover:bg-gray-100 transition flex items-center justify-center gap-3">
                    <i class="fas fa-phone-alt"></i>
                    438-530-2343
                </a>
                <a href="../index.html#contact" class="bg-cardinal text-white font-ops px-8 py-4 rounded-xl text-xl hover:bg-red-700 transition flex items-center justify-center gap-3">
                    <i class="fas fa-envelope"></i>
                    Formulaire
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-lightBase dark:bg-darkBase border-t border-gray-200 dark:border-gray-800 py-6">
        <div class="max-w-7xl mx-auto px-4 flex flex-col md:flex-row items-center justify-between text-sm text-gray-500">
            <p>&copy; 2024 Déboucheur Expert - Billy St-Hilaire</p>
            <div class="flex gap-4 mt-2 md:mt-0">
                <a href="politiques.html" class="hover:text-websiteBlue transition">Confidentialité</a>
                <a href="conditions.html" class="hover:text-websiteBlue transition">Conditions</a>
                <a href="../index.html" class="hover:text-websiteBlue transition">Accueil</a>
            </div>
        </div>
    </footer>

    <script>
        // Theme detection
        if (localStorage.getItem('theme') === 'light') {
            document.documentElement.classList.remove('dark');
        } else if (localStorage.getItem('theme') === 'dark' || window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }

        // Holiday data for 2025-2026
        const holidays = {
            // 2025 Quebec statutory holidays
            '2025-01-01': { name: 'Jour de l\'An', type: 'holiday' },
            '2025-04-18': { name: 'Vendredi saint', type: 'holiday' },
            '2025-04-21': { name: 'Lundi de Pâques', type: 'christian' },
            '2025-05-19': { name: 'Journée nationale des patriotes', type: 'holiday' },
            '2025-06-24': { name: 'Fête nationale du Québec', type: 'holiday' },
            '2025-07-01': { name: 'Fête du Canada', type: 'holiday' },
            '2025-09-01': { name: 'Fête du Travail', type: 'holiday' },
            '2025-10-13': { name: 'Action de grâce', type: 'holiday' },
            '2025-12-25': { name: 'Noël', type: 'holiday' },
            '2025-12-26': { name: 'Lendemain de Noël', type: 'christian' },

            // 2025 Christian holidays
            '2025-04-20': { name: 'Pâques', type: 'christian' },
            '2025-05-29': { name: 'Ascension', type: 'christian' },
            '2025-06-08': { name: 'Pentecôte', type: 'christian' },
            '2025-11-01': { name: 'Toussaint', type: 'christian' },
            '2025-12-24': { name: 'Veille de Noël', type: 'christian' },
            '2025-12-31': { name: 'Veille du Jour de l\'An', type: 'christian' },

            // 2025 Jewish holidays (approximate dates)
            '2025-04-13': { name: 'Pessa\'h (début)', type: 'jewish' },
            '2025-04-20': { name: 'Pessa\'h (fin)', type: 'jewish' },
            '2025-06-02': { name: 'Chavouot', type: 'jewish' },
            '2025-09-23': { name: 'Rosh Hashana', type: 'jewish' },
            '2025-10-02': { name: 'Yom Kippour', type: 'jewish' },
            '2025-10-07': { name: 'Souccot', type: 'jewish' },
            '2025-12-15': { name: 'Hanouka (début)', type: 'jewish' },

            // 2025 Muslim holidays (approximate dates)
            '2025-03-01': { name: 'Ramadan (début)', type: 'muslim' },
            '2025-03-30': { name: 'Aïd el-Fitr', type: 'muslim' },
            '2025-06-07': { name: 'Aïd el-Adha', type: 'muslim' },
            '2025-06-27': { name: 'Nouvel An islamique', type: 'muslim' },

            // 2026 Quebec statutory holidays
            '2026-01-01': { name: 'Jour de l\'An', type: 'holiday' },
            '2026-04-03': { name: 'Vendredi saint', type: 'holiday' },
            '2026-04-06': { name: 'Lundi de Pâques', type: 'christian' },
            '2026-05-18': { name: 'Journée nationale des patriotes', type: 'holiday' },
            '2026-06-24': { name: 'Fête nationale du Québec', type: 'holiday' },
            '2026-07-01': { name: 'Fête du Canada', type: 'holiday' },
            '2026-09-07': { name: 'Fête du Travail', type: 'holiday' },
            '2026-10-12': { name: 'Action de grâce', type: 'holiday' },
            '2026-12-25': { name: 'Noël', type: 'holiday' },

            // 2026 Christian
            '2026-04-05': { name: 'Pâques', type: 'christian' },
            '2026-05-14': { name: 'Ascension', type: 'christian' },
            '2026-05-24': { name: 'Pentecôte', type: 'christian' },
        };

        const monthNames = [
            'Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin',
            'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'
        ];

        const dayNames = ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'];

        function formatDateKey(year, month, day) {
            return `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
        }

        function generateCalendar(year, month) {
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const startDay = firstDay.getDay();
            const daysInMonth = lastDay.getDate();
            const today = new Date();

            let html = `
                <div class="month-card">
                    <h3 class="text-center font-ops text-lg mb-3">${monthNames[month]} ${year}</h3>
                    <div class="calendar-grid">
            `;

            // Day headers
            dayNames.forEach(day => {
                html += `<div class="calendar-header text-gray-500 dark:text-gray-400">${day}</div>`;
            });

            // Empty cells before first day
            for (let i = 0; i < startDay; i++) {
                html += `<div class="calendar-day opacity-0"></div>`;
            }

            // Days of month
            for (let day = 1; day <= daysInMonth; day++) {
                const dateKey = formatDateKey(year, month, day);
                const dayOfWeek = new Date(year, month, day).getDay();
                const isWeekend = dayOfWeek === 0 || dayOfWeek === 6;
                const holiday = holidays[dateKey];
                const isToday = today.getFullYear() === year && today.getMonth() === month && today.getDate() === day;

                let classes = 'calendar-day bg-white dark:bg-gray-800';
                if (isWeekend) classes += ' weekend';
                if (holiday) classes += ` ${holiday.type}`;
                if (isToday) classes += ' today';

                let tooltip = holiday ? `title="${holiday.name}"` : '';

                html += `
                    <div class="${classes}" ${tooltip}>
                        <span>${day}</span>
                        ${holiday ? `<span class="text-[8px] truncate max-w-full px-1">${holiday.name.split(' ')[0]}</span>` : ''}
                    </div>
                `;
            }

            html += `</div></div>`;
            return html;
        }

        function generateHolidayList() {
            const sortedHolidays = Object.entries(holidays)
                .sort(([a], [b]) => new Date(a) - new Date(b));

            let html = '';
            sortedHolidays.forEach(([date, info]) => {
                const d = new Date(date);
                const typeColors = {
                    holiday: 'bg-cardinal/20 border-cardinal',
                    christian: 'bg-purple-500/20 border-purple-500',
                    jewish: 'bg-blue-400/20 border-blue-400',
                    muslim: 'bg-green-500/20 border-green-500'
                };

                html += `
                    <div class="flex items-center gap-3 p-3 rounded-lg ${typeColors[info.type]} border-l-4">
                        <div class="text-center">
                            <div class="font-bold text-lg">${d.getDate()}</div>
                            <div class="text-xs uppercase">${monthNames[d.getMonth()].slice(0, 3)}</div>
                            <div class="text-xs">${d.getFullYear()}</div>
                        </div>
                        <div>
                            <div class="font-bold">${info.name}</div>
                            <div class="text-xs text-gray-500 capitalize">${info.type === 'holiday' ? 'Férié QC' : info.type}</div>
                        </div>
                    </div>
                `;
            });
            return html;
        }

        // Generate calendars for next 12 months
        document.addEventListener('DOMContentLoaded', () => {
            const container = document.getElementById('calendar-container');
            const today = new Date();
            let html = '';

            for (let i = 0; i < 12; i++) {
                const date = new Date(today.getFullYear(), today.getMonth() + i, 1);
                html += generateCalendar(date.getFullYear(), date.getMonth());
            }

            container.innerHTML = html;

            // Generate holiday list
            document.getElementById('holiday-list').innerHTML = generateHolidayList();
        });
    </script>
<script src="../assets/scripts/icons.js" defer></script>
</body>
</html>
